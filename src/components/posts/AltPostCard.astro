---
import formatDate from '../../utils/date-format';
import Category from '../shared/Category.astro';

const { post } = Astro.props;
---

<a href={`/posts/${post.id}-${post.slug}`}
   class="mt-5 flex flex-col bg-white px-4 py-3 rounded-sm shadow-sm w-auto group cursor-pointer justify-between space-y-4">
  <div class="flex flex-col justify-between">
    <span
      class="text-lg font-semibold transition-colors group-hover:text-blue-500 mb-2 text-gray-800 line-clamp-1 text-ellipsis">{post.title}</span>

    <span class="text-gray-500 text-sm transition-colors group-hover:text-gray-800">{formatDate(post.published_date)}
      &bull; {post.author.alias}</span>
  </div>

  <p class="overflow-hidden text-ellipsis line-clamp-3 text-gray-700">
    {post.short_description}
  </p>

  <div class="flex flex-wrap gap-1">
    {post.categories.map((category) => (
      <Category category={category.categories_id.category_name} />
    ))}
  </div>
</a>